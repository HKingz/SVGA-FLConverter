<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" type="text/css" href="http://assets.dwstatic.com/common/lib/bootstrap/3.3.4/css/bootstrap.min.css">
<link href="http://cdn.shopify.com/s/files/1/0691/5403/t/125/assets/style.scss.css?4146542495279090244" rel="stylesheet" type="text/css" media="all" />
<title>Untitled-2</title>
<!-- write your code here -->
<style>
  #animation_container {
	position:absolute;
	margin:auto;
	left:0;right:0;
	top:0;bottom:0;
  }
</style>
<script src="http://cdn.bootcss.com/blueimp-md5/2.7.0/js/md5.min.js"></script>
<script src="http://cdn.rawgit.com/eligrey/FileSaver.js/e9d941381475b5df8b7d7691013401e171014e89/FileSaver.min.js"></script>
<script src="http://assets.dwstatic.com/common/lib/jszip/3.1.3/jszip.min.js"></script>
<!--[if !IE]><!--><script src="http://assets.dwstatic.com/common/lib/yyzip/0.0.1/yyzip.min.js" charset="utf-8"></script><!--<![endif]-->
<!--[if IE]><script src="http://assets.dwstatic.com/common/lib/??jszip/3.1.3/jszip.min.js,jszip/3.1.3/jszip-utils.min.js,jszip/3.1.3/jszip-utils-ie.min.js" charset="utf-8"></script><![endif]-->
<script src="http://legox.yy.com/svga/svgaplayer/build/svga.min.js"></script>
<script src="http://code.createjs.com/createjs-2015.11.26.min.js"></script>
<script>
(function (lib, img, cjs, ss, an) {
var p; // shortcut to reference prototypes
lib.webFontTxtInst = {}; 
var loadedTypekitCount = 0;
var loadedGoogleCount = 0;
var gFontsUpdateCacheList = [];
var tFontsUpdateCacheList = [];
lib.ssMetadata = [];
lib.updateListCache = function (cacheList) {		
	for(var i = 0; i < cacheList.length; i++) {		
		if(cacheList[i].cacheCanvas)		
			cacheList[i].updateCache();		
	}		
};		
lib.addElementsToCache = function (textInst, cacheList) {		
	var cur = textInst;		
	while(cur != exportRoot) {		
		if(cacheList.indexOf(cur) != -1)		
			break;		
		cur = cur.parent;		
	}		
	if(cur != exportRoot) {		
		var cur2 = textInst;		
		var index = cacheList.indexOf(cur);		
		while(cur2 != cur) {		
			cacheList.splice(index, 0, cur2);		
			cur2 = cur2.parent;		
			index++;		
		}		
	}		
	else {		
		cur = textInst;		
		while(cur != exportRoot) {		
			cacheList.push(cur);		
			cur = cur.parent;		
		}		
	}		
};		
lib.gfontAvailable = function(family, totalGoogleCount) {		
	lib.properties.webfonts[family] = true;		
	var txtInst = lib.webFontTxtInst && lib.webFontTxtInst[family] || [];		
	for(var f = 0; f < txtInst.length; ++f)		
		lib.addElementsToCache(txtInst[f], gFontsUpdateCacheList);		
	loadedGoogleCount++;		
	if(loadedGoogleCount == totalGoogleCount) {		
		lib.updateListCache(gFontsUpdateCacheList);		
	}		
};		
lib.tfontAvailable = function(family, totalTypekitCount) {		
	lib.properties.webfonts[family] = true;		
	var txtInst = lib.webFontTxtInst && lib.webFontTxtInst[family] || [];		
	for(var f = 0; f < txtInst.length; ++f)		
		lib.addElementsToCache(txtInst[f], tFontsUpdateCacheList);		
	loadedTypekitCount++;		
	if(loadedTypekitCount == totalTypekitCount) {		
		lib.updateListCache(tFontsUpdateCacheList);		
	}		
};
// symbols:
(lib.南瓜 = function() {
	this.initialize(img.南瓜);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,310,308);
(lib.宝箱 = function() {
	this.initialize(img.宝箱);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,97,104);
(lib.车架1 = function() {
	this.initialize(img.车架1);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,458,162);// helper functions:
function mc_symbol_clone() {
	var clone = this._cloneProps(new this.constructor(this.mode, this.startPosition, this.loop));
	clone.gotoAndStop(this.currentFrame);
	clone.paused = this.paused;
	clone.framerate = this.framerate;
	return clone;
}
function getMCSymbolPrototype(symbol, nominalBounds, frameBounds) {
	var prototype = cjs.extend(symbol, cjs.MovieClip);
	prototype.clone = mc_symbol_clone;
	prototype.nominalBounds = nominalBounds;
	prototype.frameBounds = frameBounds;
	return prototype;
	}
(lib.补间51 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// 图层 1
	this.instance = new lib.南瓜();
	this.instance.parent = this;
	this.instance.setTransform(-103.1,-102.4,0.665,0.665);
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-103.1,-102.4,206.3,205);
(lib.补间50 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// 图层 1
	this.instance = new lib.南瓜();
	this.instance.parent = this;
	this.instance.setTransform(-103.1,-102.4,0.665,0.665);
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-103.1,-102.4,206.3,205);
(lib.补间3 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// 图层 1
	this.instance = new lib.南瓜();
	this.instance.parent = this;
	this.instance.setTransform(-103.1,-102.4,0.665,0.665);
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-103.1,-102.4,206.3,205);
(lib.补间2 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// 图层 1
	this.instance = new lib.南瓜();
	this.instance.parent = this;
	this.instance.setTransform(-103.1,-102.4,0.665,0.665);
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-103.1,-102.4,206.3,205);
(lib.补间1 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// 图层 1
	this.instance = new lib.南瓜();
	this.instance.parent = this;
	this.instance.setTransform(-103.1,-102.4,0.665,0.665);
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-103.1,-102.4,206.3,205);
(lib.元件16 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// 图层 1
	this.instance = new lib.宝箱();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.665,0.665);
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = getMCSymbolPrototype(lib.元件16, new cjs.Rectangle(0,0,64.6,69.2), null);
(lib.元件7 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// 图层 1
	this.instance = new lib.车架1();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.665,0.665);
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));
}).prototype = getMCSymbolPrototype(lib.元件7, new cjs.Rectangle(0,0,304.8,107.8), null);
// stage content:
(lib.南瓜车C_Canvas = function(mode,startPosition,loop) {
if (loop == null) { loop = false; }	this.initialize(mode,startPosition,loop,{});
	// 南瓜
	this.instance = new lib.补间1();
	this.instance.parent = this;
	this.instance.setTransform(-44.9,86.5,0.483,0.483,-29.3);
	this.instance_1 = new lib.补间2();
	this.instance_1.parent = this;
	this.instance_1.setTransform(195.5,187.9,0.838,0.838,14.5);
	this.instance_1._off = true;
	this.instance_2 = new lib.补间3("synched",0);
	this.instance_2.parent = this;
	this.instance_2.setTransform(250.4,229.9);
	this.instance_2._off = true;
	this.instance_3 = new lib.南瓜();
	this.instance_3.parent = this;
	this.instance_3.setTransform(147.3,127.4,0.665,0.665);
	this.instance_4 = new lib.补间50("synched",0);
	this.instance_4.parent = this;
	this.instance_4.setTransform(250.4,229.9);
	this.instance_4._off = true;
	this.instance_5 = new lib.补间51("synched",0);
	this.instance_5.parent = this;
	this.instance_5.setTransform(-184.5,229.9);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},5).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_2}]},4).to({state:[{t:this.instance_2}]},10).to({state:[{t:this.instance_2}]},9).to({state:[{t:this.instance_2}]},2).to({state:[{t:this.instance_2}]},2).to({state:[{t:this.instance_3}]},6).to({state:[{t:this.instance_4}]},29).to({state:[{t:this.instance_5}]},5).wait(1));
	this.timeline.addTween(cjs.Tween.get(this.instance).to({_off:true,scaleX:0.84,scaleY:0.84,rotation:374.5,x:195.5,y:187.9},5).wait(75));
	this.timeline.addTween(cjs.Tween.get(this.instance_1).to({_off:false,rotation:734.5},5).to({scaleX:0.76,scaleY:0.76,x:212.4,y:169.7},1).to({rotation:720.8,x:224.4,y:199.7},1).to({scaleX:0.81,scaleY:0.81,rotation:720,x:241.9,y:195.4},1).to({scaleX:0.83,scaleY:0.83,rotation:711.5,x:247.9,y:216.4},1).to({scaleX:1,scaleY:1,rotation:720,x:250.4,y:229.9,mode:"synched",startPosition:0},1).to({scaleY:0.89,y:241.4},1).to({_off:true,scaleY:1,y:229.9},1).wait(68));
	this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(11).to({_off:false},1).wait(4).to({mode:"independent"},0).to({scaleX:0.88,scaleY:0.88,rotation:1080,y:95.9},10).to({scaleX:1,scaleY:1,rotation:1440,y:229.9},9).to({scaleY:0.89,y:240.9},2).to({scaleY:1,y:229.9},2).to({_off:true},6).wait(35));
	this.timeline.addTween(cjs.Tween.get(this.instance_4).wait(74).to({_off:false},0).to({_off:true,x:-184.5},5).wait(1));
	// 宝箱
	this.instance_6 = new lib.元件16();
	this.instance_6.parent = this;
	this.instance_6.setTransform(361.4,258.5,0.798,0.798,0,0,0,32.2,34.6);
	this.instance_6._off = true;
	this.timeline.addTween(cjs.Tween.get(this.instance_6).wait(37).to({_off:false},0).to({scaleX:1,scaleY:1,x:381.4,y:238.5},4).to({x:387.4,y:228.5},4).to({x:381.4,y:238.5},4).wait(25).to({x:-52.6},5).wait(1));
	// 架子2
	this.instance_7 = new lib.元件7();
	this.instance_7.parent = this;
	this.instance_7.setTransform(207.2,317.5,0.675,0.675,-28.4,0,0,152.5,54);
	this.instance_7.alpha = 0;
	this.instance_7._off = true;
	this.timeline.addTween(cjs.Tween.get(this.instance_7).wait(22).to({_off:false},0).to({scaleX:0.81,scaleY:0.81,rotation:-9.7,x:274.3,y:242.5,alpha:1},5).to({regX:152.4,regY:53.9,scaleX:1,scaleY:1,rotation:0,x:255.2,y:287.4},5).to({regX:152.3,rotation:7.2,x:255.1},4).to({regX:152.4,rotation:0,x:255.2},4).wait(34).to({x:-179.8},5).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(69.4,266.9,277,148);
// library properties:
lib.properties = {
	width: 500,
	height: 500,
	fps: 20,
	color: "#FFFFFF",
	opacity: 1.00,
	webfonts: {},
	manifest: [
		{src:"images/南瓜_.png", id:"南瓜"},
		{src:"images/宝箱_.png", id:"宝箱"},
		{src:"images/车架1.png", id:"车架1"}
	],
	preloads: []
};
})(lib = lib||{}, images = images||{}, createjs = createjs||{}, ss = ss||{}, AdobeAn = AdobeAn||{});
var lib, images, createjs, ss, AdobeAn;
</script>
<script>
var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
function init() {
	canvas = document.getElementById("canvas");
	anim_container = document.getElementById("animation_container");
	dom_overlay_container = document.getElementById("dom_overlay_container");
	images = images||{};
	var loader = new createjs.LoadQueue(false);
	loader.addEventListener("fileload", handleFileLoad);
	loader.addEventListener("complete", handleComplete);
	loader.loadManifest(lib.properties.manifest);
}
function handleFileLoad(evt) {	
	if (evt.item.type == "image") { images[evt.item.id] = evt.result; }	
}
function handleComplete(evt) {
	//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
	var queue = evt.target;
	var ssMetadata = lib.ssMetadata;
	for(i=0; i<ssMetadata.length; i++) {
		ss[ssMetadata[i].name] = new createjs.SpriteSheet( {"images": [queue.getResult(ssMetadata[i].name)], "frames": ssMetadata[i].frames} )
	}
	exportRoot = new lib.南瓜车C_Canvas();
	stage = new createjs.Stage(canvas);
	stage.addChild(exportRoot);	
	//Registers the "tick" event listener.
	fnStartAnimation = function() {
		createjs.Ticker.setFPS(lib.properties.fps);
		createjs.Ticker.addEventListener("tick", stage);
	}	    
	fnStartAnimation();
}
</script>
<!-- write your code here -->
</head>

<body onload="init();" class="swag-line template-index">
	<div class="container-overflow-wrap">
		<div class="container">
			<nav class="navbar navbar-default navbar-tall navbar-full" role="navigation">
				<div class="navbar-header">
					<a class="navbar-brand" href="http://ued.yypm.com/project/svga/index.html">SVGA Animation</a>
				</div>
				<div class="collapse navbar-collapse" id="global-nav">
					<div class="navbar-right">
						<ul class="nav navbar-nav">

							<li>
								<a href="http://ued.yypm.com/project/svga/integrated.html">集成指南</a>
							</li>

							<li>
								<a href="http://ued.yypm.com/project/svga/designer.html">设计师工具</a>
							</li>

							<li>
								<a href="http://code.yy.com/explore/projects?utf8=%E2%9C%93&search=svga" target="_blank">开源代码</a>
							</li>

						</ul>
					</div>
				</div>
			</nav>

			<div class="row text-center">
				<main class="main-content ">
					<article class="post">
						<div class="featured-media ">
							<canvas id="canvas" style="background-color: black; width: 500px; height: 500px"></canvas>
						</div>
						<div class="post-permalink ">
							<input type="file" id="fs" style="display: none;" />
							<a href="#" onclick="document.getElementById('fs').click()" class="btn btn-default downloadButton" style="margin-top: 22px">下载 SVGA 文件</a>
						</div>
					</article>
				</main>
			</div>

		</div>

		<footer class="footer clearfix footer-borderless">

			<p class="hidden-xs">
				UED OpenSource
			</p>

		</footer>

	</div>

	<!-- jquery.js -->
	<script src="http://assets.dwstatic.com/common/lib/jquery/2.2.3/jquery-2.2.3.min.js" type="text/javascript"></script>
	<!-- bootstrap.js -->
	<script src="http://assets.dwstatic.com/common/lib/bootstrap/3.3.4/js/bootstrap.min.js" type="text/javascript"></script>
	<script>
    	$('html').removeClass('no-js').addClass('js')
    </script>

	<script src="./js/main.js"></script>

</body>

</html>

